<div class="container-fluid">
  <div class="row">
    <div class="col-lg-12">
      <div class="breadcrumb-container mb-3">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item">
              <a routerLink="/overview">Home</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">Invoices</li>
          </ol>
        </nav>
      </div>
      <div class="card shadow-sm">

        <div class="card-header d-flex justify-content-between align-items-center">
          <h4 class="card-title mb-0">Manage Invoices</h4>
          <div>
            <button type="button" class="btn btn-primary btn-sm add-btn" routerLink="/create-invoice">
              <i class="ri-add-line align-bottom me-1"></i> Create Invoice
            </button>
            <button type="button" class="btn btn-danger btn-sm ms-2" (click)="deleteSelectedInvoices()">
              <i class="ri-delete-bin-2-line"></i> Delete Selected
            </button>
          </div>
        </div>
        <div class="card-body">
          <div class="row mb-3 align-items-center">
            <div class="col-md-8 d-flex align-items-center">
              <mat-form-field class="small-date-range me-2">
                <mat-label>Select a date range</mat-label>
                <mat-date-range-input [max]="maxDate" [rangePicker]="picker">
                  <input matStartDate matInput placeholder="Start date" (dateChange)="onStartDateChange($event)" />
                  <input matEndDate matInput placeholder="End date" (dateChange)="onDateRangeChange($event)" />
                </mat-date-range-input>
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-date-range-picker #picker></mat-date-range-picker>
              </mat-form-field>
              <input type="text" class="form-control search-nic" placeholder="Search by Customer NIC..."
                [formControl]="searchNICControl" style="margin-right: 0.5rem;">
              <input type="text" class="form-control search-nic" placeholder="Search by Invoice No..."
                [formControl]="searchInvoiceNoControl">
            </div>
            <div class="col-md-2 ms-auto">
              <button type="button" class="btn add-btn" (click)="viewInvoiceTemplate()">
                <i class="ri-eye-line align-bottom me-1"></i> View Invoice Template
              </button>
            </div>
          </div>
          <app-data-table
            [data]="invoices"
            [columns]="tableColumns"
            [actions]="[
              { key: 'view', label: 'View', icon: 'ri-eye-line', color: 'info' },
              { key: 'delete', label: 'Delete', icon: 'ri-delete-bin-line', color: 'danger' }
            ]"
            [selectable]="true"
            (action)="onTableAction($event)"
            searchPlaceholder="Search invoices...">
          </app-data-table>
        </div>
      </div>
    </div>
  </div>
</div>