<div class="invoice-container" id="printable-template">
    <div class="invoice-header d-flex justify-content-between align-items-center pb-3">
        <!-- Left Section (Date, Invoice No) -->
        <div>
            <p class="text-muted mb-1 fw-bold">Date</p>
            <p>{{ dateGenerated }}</p>
            <p class="text-muted mb-1 fw-bold">Invoice No</p>
            <p>{{ invoice?.invoiceNo }}</p>
        </div>

        <!-- Center Section (Logo, Company Info) -->
        <div class="text-center">
            <img src="GoldCashLogo-receipt.png" alt="Company Logo" class="company-logo">
            <h4 class="fw-semibold text-uppercase">Gold Cash (Pvt) Ltd.</h4>
        </div>

        <!-- Right Section (Company Details) -->
        <div class="text-end">
            <p class="mb-1 text-muted">Reg No: <strong>987654</strong></p>
            <p class="mb-1 text-muted">Email: goldcash&#64;gmail.com</p>
            <p class="mb-1 text-muted">Phone: +(94) 81 222 1234</p>
            <p class="text-muted">Muruthalawa, Sri Lanka</p>
        </div>
    </div>

    <hr>

    <!-- Customer Information and Items -->
    <div class="invoice-body row g-4">
        <!-- Left: Customer Information -->
        <div class="col-md-4">
            <p class="fw-semibold text-muted">Customer Information</p>
            <p class="fw-bold">{{ customer?.customerName }}</p>
            <p class="text-muted">{{ customer?.customerAddress }}</p>
            <p class="text-muted">NIC: {{ customer?.customerNIC }}</p>
            <p class="text-muted">Phone: {{ customer?.customerContactNo }}</p>
        </div>

        <!-- Right: Items List -->
        <div class="col-md-8">
            <table class="table table-bordered">
                <thead class="table">
                    <tr>
                        <th>#</th>
                        <th>Item No.</th>
                        <th>Description</th>
                        <th>Gold Weight (g)</th>
                        <th>Karat</th>
                        <th class="text-end">Value (Rs)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of items; let i = index">
                        <td>{{ i + 1 }}</td>
                        <td>{{ item?.itemId }}</td>
                        <td>{{ item?.itemDescription }}</td>
                        <td>{{ item?.itemGoldWeight }}</td>
                        <td>{{ item?.itemCaratage }}</td>
                        <td class="text-end">{{ item?.itemValue }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <hr>

    <!-- Invoice Totals and Summary -->
    <div class="invoice-summary d-flex justify-content-end">
        <table class="table table-borderless" style="width: 300px;">
            <tbody>
                <tr>
                    <td class="text-muted">Sub Total</td>
                    <td class="text-end fw-bold">{{ transaction?.subTotal }}</td>
                </tr>
                <tr>
                    <td class="text-muted">Interest (%)</td>
                    <td class="text-end fw-bold">{{ transaction?.interestRate }}</td>
                </tr>
                <tr class="border-top border-top-dashed fs-5">
                    <td class="text-dark fw-bold">Total Amount</td>
                    <td class="text-end fw-bold">{{ transaction?.totalAmount }}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <hr>

    <!-- Disclaimer and Signatures -->
    <div class="invoice-footer text-center">
        <p class="text-muted">Disclaimer: I hereby pledge and transfer to Gold 
            Cash (Pvt) Ltd. the gold articles listed above, which are owned by me. I declare that the details provided are accurate 
            and agree that the terms and conditions outlined shall form part of this pawn contract.</p>
        <div class="row text-center">
            <div class="col-md-4">
                <hr>
                <p>Cashier's Signature</p>
            </div>
            <div class="col-md-4">
                <hr>
                <p>Manager's Signature</p>
            </div>
            <div class="col-md-4">
                <hr>
                <p>Customer's Signature</p>
            </div>
        </div>
    </div>
</div>

<!-- Buttons -->
<div class="col-lg-11 d-print-none mt-4">
    <div class="hstack gap-2 justify-content-end">
        <button class="btn btn-sm btn-success" (click)="printTemplate()"><i class="ri-printer-line align-bottom me-1"></i> Print</button>
        <button class="btn btn-sm btn-primary" (click)="downloadTemplate()"><i class="ri-download-2-line align-bottom me-1"></i> Download</button>
    </div>
</div>
